<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:g='urn:import:com.google.gwt.user.client.ui'
             xmlns:b='urn:import:com.github.gwtbootstrap.client.ui'
             xmlns:gui='urn:import:com.gmi.nordborglab.browser.client.ui'
             xmlns:c='urn:import:com.google.gwt.user.cellview.client'
             xmlns:ed='urn:import:com.gmi.nordborglab.browser.client.editors'
        >
    <ui:style>
        .filedroppanel {
            border: 2px dashed #00848e;
            background-color: #ebf5f7;
            text-align: center;
            color: #b8b8b8;
            font-size: 2em;
            font-family: Arial, sans-serif;
            height: 250px;
        }

        .filedroppanel h1 {
            line-height: 220px;
        }

        .fileinput {
            visibility: hidden;
        }

        .phenotypeUploadButtonRow {
            margin-top: 20px;
        }

        .fileSelectTable {
            width: 100%;
        }

        .progressbar {
            width: 200px;
        }

        .actionButtons {
            margin-bottom: 10px;
        }

        .cancelButton {
            float: right;
        }

        .phenotypeValueStatus {
            line-height: 30px;
        }

        .phenotypeValueStatusIcon {
            margin-right: 10px;
        }

        .checkFileTableContainer {
            border: 2px dashed #00848e;
            height: 250px;
        }

        .multipleFilesPanel {
            height: 250px;
            border: 2px dashed #00848e;
        }

        .buttonWithMargin {
            margin-left: 10px !important;
        }
    </ui:style>
    <g:LayoutPanel ui:field="uploadPhenotypePanel">
        <g:layer top="0" bottom="0">
            <g:ScrollPanel ui:field="phenotypeUploadPanel">
                <b:FluidContainer>
                    <b:FluidRow>
                        <b:Column size="12">
                            <g:HTMLPanel>
                                <h4>File-Format</h4>
                                <p>The first line in the CSV can encode meta-information for the phenotype. It has to
                                    start with<b>#HEADER</b>. It is optional and can be omitted
                                </p>
                                <table class="table table-striped">
                                    <thead>
                                        <th>
                                            #HEADER,name=FT10,unitofmeasure=[days|count|g],protocol=Protocol of the
                                            phenotype,traitontology=TO:02312,environmentontology=EO:0123
                                        </th>
                                    </thead>
                                </table>
                                <p>
                                    The actual phenotype data has to be in the following format. At the minimum the
                                    <b>accessionid</b>
                                    column and one
                                    <b>value</b>
                                    column have to be provided.
                                </p>
                                <table class="table table-striped">
                                    <thead>
                                        <th>accessionid</th>
                                        <th>MEAN</th>
                                        <th>MEASURE</th>
                                        <th>STD</th>
                                        <th>MODE</th>
                                        <th>COUNT</th>
                                        <th>VARIANCE</th>
                                        <th>MEDIAN</th>
                                    </thead>
                                    <tbody>
                                        <td>6909</td>
                                        <td>12.2</td>
                                        <td>20.2</td>
                                        <td>12.23</td>
                                        <td>30</td>
                                        <td>40</td>
                                        <td>12.5</td>
                                        <td>14.5</td>
                                    </tbody>
                                </table>
                                <h4>Upload</h4>
                                <p>Use on of the methods below to upload a phenotype file:</p>
                            </g:HTMLPanel>
                        </b:Column>
                    </b:FluidRow>
                    <b:FluidRow>
                        <b:Column size="12">
                            <g:HTML ui:field="phenotypeFileDropPanel">
                                <div class="{style.filedroppanel}" ui:field="phenotypeFileDropText">
                                    <h1>Drag and drop phenotype files from your computer here</h1>
                                </div>
                                <div ui:field="multipleFilesPanel" style="display:none;"
                                     class="{style.multipleFilesPanel}">
                                    <h1 ui:field="multipleFileCheckText"></h1>
                                </div>
                                <div ui:field="checkFileTableContainer" style="display:none;"
                                     class="{style.checkFileTableContainer}">
                                    <h5 id="checkFileTableHeader" style="margin-left:5px;"></h5>
                                    <table class="table table-striped" ui:field="checkMetaTable">
                                        <thead>
                                            <th></th>
                                        </thead>
                                    </table>
                                    <table class="table table-striped" ui:field="checkFileTable">
                                        <thead>
                                            <tr>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </g:HTML>
                        </b:Column>
                    </b:FluidRow>
                    <b:FluidRow addStyleNames="{style.phenotypeUploadButtonRow}">
                        <b:Column size="3">
                            <b:Controls>
                                <b:Form ui:field="phenotypeUploadForm">
                                    <b:ButtonGroup>
                                        <b:Button type="SUCCESS" icon="PLUS" ui:field="phenotypeFileBrowseBtn">Browse
                                            files...
                                        </b:Button>
                                        <b:Button type="WARNING" icon="BAN_CIRCLE"
                                                  ui:field="phenotypeFileUploadCancelBtn" visible="false"
                                                  addStyleNames="{style.buttonWithMargin}">Cancel
                                        </b:Button>
                                        <b:Button icon="UPLOAD" type="PRIMARY" ui:field="phenotypeFileUploadStartBtn"
                                                  visible="false" addStyleNames="{style.buttonWithMargin}">Start Upload
                                        </b:Button>
                                    </b:ButtonGroup>

                                    <b:FileUpload ui:field="phenotypeFileUploadBtn"
                                                  addStyleNames="{style.fileinput}"></b:FileUpload>
                                </b:Form>
                            </b:Controls>
                        </b:Column>
                        <b:Column size="9">
                            <g:HTMLPanel ui:field="fileSelectPanel" addStyleNames="fade">
                                <div class="alert">
                                    <span id="checkStatusMsg" style="font-size:130%"></span>
                                </div>
                                <table class="{style.fileSelectTable} table table-striped" id="fileToUploadTable">
                                    <tbody>
                                    </tbody>
                                </table>
                            </g:HTMLPanel>
                        </b:Column>
                    </b:FluidRow>
                </b:FluidContainer>
            </g:ScrollPanel>
        </g:layer>
        <g:layer top="0" bottom="0">
            <g:LayoutPanel ui:field="phenotypeValuePanel">
                <g:layer left="0" width="320px">
                    <g:HTMLPanel ui:field="phenotypeFormPanel">
                        <div>
                            <b:WellForm ui:field="phenotypeForm">
                                <b:ButtonGroup addStyleNames="{style.actionButtons}">
                                    <b:Button type="PRIMARY" icon="UPLOAD" ui:field="createPhenotypeBtn">Create
                                    </b:Button>
                                    <b:Button ui:field="cancelPhenotypeBtn" icon="BAN_CIRCLE"
                                              addStyleNames="{style.cancelButton}">Cancel
                                    </b:Button>
                                </b:ButtonGroup>
                                <ed:PhenotypeEditEditor ui:field="phenotypeEditor"/>
                            </b:WellForm>
                        </div>
                    </g:HTMLPanel>
                </g:layer>
                <g:layer left="350px" right="0">
                    <g:LayoutPanel>
                        <g:layer top="0" height="70px">
                            <b:Alert type="DEFAULT" close="false" animation="true" visible="false"
                                     addStyleNames="{style.phenotypeValueStatus}" ui:field="phenotypeValueStatus">
                                <b:Icon ui:field="phenotypeValueStatusIcon"
                                        addStyleNames="{style.phenotypeValueStatusIcon}" type="OK" iconSize="LARGE"/>
                            </b:Alert>
                        </g:layer>
                        <g:layer top="55px" bottom="70px">
                            <c:DataGrid ui:field="phenotypeValuesDataGrid"/>
                        </g:layer>
                        <g:layer height="50px" bottom="0">
                            <gui:CustomPager ui:field="phenotypeValuePager"/>
                        </g:layer>
                    </g:LayoutPanel>
                </g:layer>
            </g:LayoutPanel>
        </g:layer>
    </g:LayoutPanel>
</ui:UiBinder>