<!DOCTYPE ui:UiBinder SYSTEM "http://dl.google.com/gwt/DTD/xhtml.ent">

<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder'
             xmlns:g='urn:import:com.google.gwt.user.client.ui'
             xmlns:ed='urn:import:com.gmi.nordborglab.browser.client.editors'
             xmlns:b="urn:import:com.github.gwtbootstrap.client.ui"
             ui:generateFormat='com.google.gwt.i18n.rebind.format.PropertiesFormat'
             ui:generateKeys='com.google.gwt.i18n.rebind.keygen.MD5KeyGenerator'
             ui:generateLocales='default'>

    <ui:with field="mainRes"
             type="com.gmi.nordborglab.browser.client.resources.MainResources"/>

    <ui:style>
        .container {
            padding: 19px 19px;
            min-height: 800px;
        }

        .actionRow {
            float: right;
        }

        .statisticTypeContainer {
            margin-top: -4px;
            float: left;
        }

        .buttontoolbar {
            margin-top: 0 !important;
            margin-bottom: 0 !important;
        }

    </ui:style>
    <g:LayoutPanel addStyleNames="{style.container}" ui:field="container">
        <g:layer top="0" height="29em">
            <g:DockLayoutPanel unit="EM">
                <g:west size="30">
                    <g:LayoutPanel>
                        <g:layer top="5px" height="40px" left="0" right="0">
                            <g:HTMLPanel addStyleNames="{mainRes.style.chartActionRow}" ui:field="actionBarPanel">
                                <div class="{style.actionRow}">
                                    <b:ButtonToolbar addStyleNames="{style.buttontoolbar}">
                                        <b:ButtonGroup>
                                            <b:Button ui:field="edit" icon="EDIT" size="SMALL" type="PRIMARY"
                                                      text="Edit"/>
                                        </b:ButtonGroup>
                                        <b:ButtonGroup>
                                            <b:Button ui:field="delete" icon="REMOVE" size="SMALL" type="DANGER"
                                                      text="Delete"/>
                                        </b:ButtonGroup>
                                        <b:ButtonGroup>
                                            <b:DropdownButton text="Download" size="SMALL" type="INFO"
                                                              icon="DOWNLOAD">
                                                <b:NavLink text="Phenotype (CSV)"
                                                           ui:field="navLinkPhenCSV"></b:NavLink>
                                                <b:NavLink text="Phenotype (JSON)" target="_BLANK"
                                                           ui:field="navLinkPhenJSON"></b:NavLink>
                                            </b:DropdownButton>
                                        </b:ButtonGroup>
                                    </b:ButtonToolbar>
                                </div>
                            </g:HTMLPanel>
                        </g:layer>
                        <g:layer top="47px" bottom="0" left="0" right="0">
                            <b:Form type="HORIZONTAL">
                                <g:FlowPanel>
                                    <ed:PhenotypeDisplayEditor
                                            ui:field="phenotypeDisplayEditor"></ed:PhenotypeDisplayEditor>
                                </g:FlowPanel>
                            </b:Form>
                        </g:layer>
                    </g:LayoutPanel>
                </g:west>
                <g:center>
                    <g:LayoutPanel>
                        <g:layer top="5px" height="40px" left="5px" right="0">
                            <g:HTMLPanel addStyleNames="{mainRes.style.chartActionRow}">
                                <div class="{style.statisticTypeContainer}">
                                    <b:NavPills ui:field="statisticTypePills"/>
                                </div>
                                <div class="{mainRes.style.chartIconContainer}">
                                    <g:HTMLPanel ui:field="geoChartBtnContainer"
                                                 addStyleNames=" {mainRes.style.iconContainer_active}  {mainRes.style.iconContainer}">
                                        <b:Tooltip text="Shows the geographic distribution on a map">
                                            <g:Button ui:field="geoChartBtn"
                                                      addStyleNames="{mainRes.style.earth} {mainRes.style.iconItem}"/>
                                        </b:Tooltip>
                                    </g:HTMLPanel>
                                    <g:HTMLPanel ui:field="pieChartBtnContainer"
                                                 addStyleNames="{mainRes.style.iconContainer_right} {mainRes.style.iconContainer}">
                                        <b:Tooltip text="Shows the geographic distribution as a piechart">
                                            <g:Button ui:field="pieChartBtn"
                                                      addStyleNames="{mainRes.style.piechart} {mainRes.style.iconItem}"/>
                                        </b:Tooltip>
                                    </g:HTMLPanel>
                                </div>
                            </g:HTMLPanel>
                        </g:layer>
                        <g:layer top="47px" bottom="0" left="5px" right="0">
                            <g:SimpleLayoutPanel ui:field="upperChartContainer"/>
                        </g:layer>
                    </g:LayoutPanel>
                </g:center>
            </g:DockLayoutPanel>
        </g:layer>
        <g:layer top="29em" bottom="0">
            <g:LayoutPanel>
                <g:layer top="0" height="40px" left="0" right="0">
                    <g:HTMLPanel addStyleNames="{mainRes.style.chartActionRow}">
                        <div class="{mainRes.style.chartIconContainer}">
                            <g:HTMLPanel ui:field="columnChartBtnContainer"
                                         addStyleNames=" {mainRes.style.iconContainer_active}  {mainRes.style.iconContainer}">
                                <b:Tooltip text="Shows the phenotype distrubtion as a histogram">
                                    <g:Button ui:field="columnChartBtn"
                                              addStyleNames="{mainRes.style.columnchart} {mainRes.style.iconItem}"/>
                                </b:Tooltip>
                            </g:HTMLPanel>
                            <g:HTMLPanel ui:field="motionChartBtnContainer"
                                         addStyleNames="{mainRes.style.iconContainer_right} {mainRes.style.iconContainer}">
                                <b:Tooltip text="Shows the phenotype values in a motionchart">
                                    <g:Button ui:field="motionChartBtn"
                                              addStyleNames="{mainRes.style.motionchart} {mainRes.style.iconItem}"/>
                                </b:Tooltip>
                            </g:HTMLPanel>
                        </div>
                    </g:HTMLPanel>
                </g:layer>
                <g:layer top="40px" bottom="0" left="5px" right="0">
                    <g:SimpleLayoutPanel ui:field="lowerChartContainer"/>
                </g:layer>
            </g:LayoutPanel>
        </g:layer>
    </g:LayoutPanel>
</ui:UiBinder>
